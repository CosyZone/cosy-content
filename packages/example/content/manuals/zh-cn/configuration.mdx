---
title: '配置说明'
description: '详细的产品配置参数和设置选项'
order: 4
date: 2024-01-01
draft: false
hidden: false
important: false
badge: '配置'
category: 'guide'
tags: ['configuration', 'settings', 'options']
---

# {frontmatter.title}

本指南将详细介绍产品的各种配置选项和参数设置。

## 配置文件

### 主配置文件

产品使用以下配置文件：

- **全局配置**: `~/.our-product/config.yaml`
- **项目配置**: `./our-product.yaml`
- **环境配置**: `./.env`

### 配置文件格式

```yaml
# 全局配置文件示例
api:
  key: "your-api-key"
  endpoint: "https://api.example.com"
  timeout: 30

database:
  host: "localhost"
  port: 5432
  name: "our_product"
  user: "username"
  password: "password"

logging:
  level: "info"
  file: "/var/log/our-product.log"
  max_size: "100MB"
  max_files: 10

security:
  ssl: true
  cert_file: "/path/to/cert.pem"
  key_file: "/path/to/key.pem"
```

## 核心配置项

### API 配置

```yaml
api:
  # API 密钥
  key: "your-api-key"
  
  # API 端点
  endpoint: "https://api.example.com"
  
  # 请求超时时间（秒）
  timeout: 30
  
  # 重试次数
  retries: 3
  
  # 重试间隔（秒）
  retry_delay: 1
```

### 数据库配置

```yaml
database:
  # 数据库类型
  type: "postgresql"  # postgresql, mysql, sqlite
  
  # 连接参数
  host: "localhost"
  port: 5432
  name: "our_product"
  user: "username"
  password: "password"
  
  # 连接池设置
  pool:
    min_connections: 5
    max_connections: 20
    idle_timeout: 300
```

### 日志配置

```yaml
logging:
  # 日志级别
  level: "info"  # debug, info, warn, error
  
  # 日志文件路径
  file: "/var/log/our-product.log"
  
  # 日志轮转设置
  max_size: "100MB"
  max_files: 10
  
  # 日志格式
  format: "json"  # json, text
```

## 环境变量

### 常用环境变量

```bash
# API 配置
export OUR_PRODUCT_API_KEY="your-api-key"
export OUR_PRODUCT_API_ENDPOINT="https://api.example.com"

# 数据库配置
export OUR_PRODUCT_DB_HOST="localhost"
export OUR_PRODUCT_DB_PORT="5432"
export OUR_PRODUCT_DB_NAME="our_product"
export OUR_PRODUCT_DB_USER="username"
export OUR_PRODUCT_DB_PASSWORD="password"

# 日志配置
export OUR_PRODUCT_LOG_LEVEL="info"
export OUR_PRODUCT_LOG_FILE="/var/log/our-product.log"
```

## 命令行配置

### 查看当前配置

```bash
# 查看所有配置
our-product config list

# 查看特定配置项
our-product config get api.key
our-product config get database.host
```

### 设置配置项

```bash
# 设置单个配置项
our-product config set api.key "new-api-key"
our-product config set database.host "new-host"

# 设置多个配置项
our-product config set api.key "new-key" database.host "new-host"
```

### 导入配置文件

```bash
# 从文件导入配置
our-product config import config.yaml

# 从环境变量导入
our-product config import --from-env
```

## 配置验证

### 验证配置语法

```bash
# 验证配置文件语法
our-product config validate

# 验证连接配置
our-product config test-connection
```

### 配置检查清单

- [ ] API 密钥已设置
- [ ] 数据库连接正常
- [ ] 日志路径可写
- [ ] SSL 证书有效（如果启用）
- [ ] 防火墙规则正确
- [ ] 网络连接正常

## 高级配置

### 自定义插件

```yaml
plugins:
  - name: "custom-plugin"
    path: "/path/to/plugin"
    config:
      option1: "value1"
      option2: "value2"
```

### 性能调优

```yaml
performance:
  # 缓存设置
  cache:
    enabled: true
    size: "1GB"
    ttl: 3600
  
  # 并发设置
  concurrency:
    max_workers: 10
    queue_size: 100
```

## 故障排除

### 配置问题

#### 问题 1：配置文件格式错误
**错误信息**: `Invalid YAML format`
**解决方案**: 检查 YAML 语法，确保缩进正确

#### 问题 2：配置项不存在
**错误信息**: `Configuration key not found`
**解决方案**: 使用 `our-product config list` 查看可用配置项

#### 问题 3：权限问题
**错误信息**: `Permission denied`
**解决方案**: 检查配置文件的读写权限

## 下一步

配置完成后，建议继续阅读：

- [API 文档](./api/) - 完整的 API 参考
- [高级功能](./advanced/) - 高级配置和功能
- [故障排除](./advanced/troubleshooting.md) - 常见问题解决

---

_如需更多帮助，请查看 [API 文档](./api/) 或联系技术支持。_ 