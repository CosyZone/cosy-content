---
title: æ–‡æ¡£å†…å®¹ç®¡ç†å’Œä¸»é¢˜å®šåˆ¶
description: æ·±å…¥äº†è§£ Astro æ–‡æ¡£ç«™ç‚¹çš„å†…å®¹ç®¡ç†å’Œä¸»é¢˜å®šåˆ¶æ–¹æ³•
---

## å†…å®¹ç®¡ç†ç³»ç»Ÿ

### 1. å†…å®¹é›†åˆ

Astro çš„å†…å®¹é›†åˆç³»ç»Ÿè®©æ–‡æ¡£ç®¡ç†å˜å¾—ç®€å•é«˜æ•ˆï¼š

```typescript
// src/content/config.ts
import { defineCollection, z } from 'astro:content';

const docs = defineCollection({
  schema: z.object({
    title: z.string(),
    description: z.string(),
    pubDate: z.date().optional(),
    updatedDate: z.date().optional(),
    tags: z.array(z.string()).optional(),
  }),
});

export const collections = { docs };
```

### 2. æ–‡æ¡£ç»„ç»‡

æ¨èçš„æ–‡æ¡£ç›®å½•ç»“æ„ï¼š

```
src/content/docs/
  â”œâ”€â”€ getting-started/
  â”‚   â”œâ”€â”€ installation.md
  â”‚   â””â”€â”€ configuration.md
  â”œâ”€â”€ guides/
  â”‚   â”œâ”€â”€ content-management.md
  â”‚   â””â”€â”€ deployment.md
  â””â”€â”€ api/
      â”œâ”€â”€ endpoints.md
      â””â”€â”€ authentication.md
```

### 3. å…ƒæ•°æ®ç®¡ç†

ä½¿ç”¨ frontmatter ç®¡ç†æ–‡æ¡£å…ƒæ•°æ®ï¼š

```markdown
---
title: API ç«¯ç‚¹
description: API ç«¯ç‚¹å®Œæ•´å‚è€ƒ
pubDate: 2024-01-15
tags: ['api', 'reference']
---
```

## ä¸»é¢˜å®šåˆ¶

### 1. è‡ªå®šä¹‰æ ·å¼

#### åŸºç¡€æ ·å¼è¦†ç›–

```css
/* src/styles/custom.css */
:root {
  --sl-color-accent: #0077CC;
  --sl-color-text: #2C3E50;
  --sl-font-system: system-ui, -apple-system, sans-serif;
}

/* è‡ªå®šä¹‰ç»„ä»¶æ ·å¼ */
.custom-card {
  background: var(--sl-color-gray-1);
  border-radius: 8px;
  padding: 1.5rem;
  margin: 1rem 0;
}
```

#### ä¸»é¢˜å˜ä½“

```javascript
// astro.config.mjs
starlight({
  customCss: [
    './src/styles/custom.css',
    './src/styles/theme-dark.css',
  ],
});
```

### 2. ç»„ä»¶ç³»ç»Ÿ

#### åˆ›å»ºå¯é‡ç”¨ç»„ä»¶

```astro
---
// src/components/ApiEndpoint.astro
interface Props {
  method: 'GET' | 'POST' | 'PUT' | 'DELETE';
  path: string;
  auth?: boolean;
}

const { method, path, auth = false } = Astro.props;
---

<div class="api-endpoint">
  <span class={`method ${method.toLowerCase()}`}>{method}</span>
  <code class="path">{path}</code>
  {auth && <span class="auth">ğŸ”’ éœ€è¦è®¤è¯</span>}
</div>

<style>
.api-endpoint {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: var(--sl-color-gray-1);
  border-radius: 6px;
}

.method {
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-weight: bold;
}

.method.get { background: #61affe; }
.method.post { background: #49cc90; }
.method.put { background: #fca130; }
.method.delete { background: #f93e3e; }
</style>
```

#### ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶

```markdown
---
title: API æ–‡æ¡£
---

# API ç«¯ç‚¹

<ApiEndpoint method="GET" path="/api/users" />

## ç”¨æˆ·è®¤è¯

<ApiEndpoint method="POST" path="/api/auth/login" auth={true} />
```

### 3. å¯¼èˆªå®šåˆ¶

#### è‡ªå®šä¹‰ä¾§è¾¹æ 

```javascript
// astro.config.mjs
starlight({
  sidebar: [
    {
      label: 'å…¥é—¨æŒ‡å—',
      items: [
        { label: 'å¿«é€Ÿå¼€å§‹', link: '/getting-started' },
        {
          label: 'åŸºç¡€æ•™ç¨‹',
          collapsed: true,
          items: [
            { label: 'å®‰è£…', link: '/tutorials/installation' },
            { label: 'é…ç½®', link: '/tutorials/configuration' },
          ],
        },
      ],
    },
    {
      label: 'API å‚è€ƒ',
      autogenerate: { directory: 'api' },
    },
  ],
});
```

#### è‡ªå®šä¹‰é¡µå¤´

```astro
---
// src/components/CustomHeader.astro
---

<div class="custom-header">
  <div class="version-selector">
    <select>
      <option value="v1">v1.0.0</option>
      <option value="v2">v2.0.0</option>
    </select>
  </div>
  <div class="header-links">
    <a href="/support">æ”¯æŒ</a>
    <a href="/github">GitHub</a>
  </div>
</div>

<style>
.custom-header {
  display: flex;
  justify-content: space-between;
  padding: 1rem;
  border-bottom: 1px solid var(--sl-color-gray-5);
}
</style>
```

## é«˜çº§åŠŸèƒ½

### 1. å›½é™…åŒ–æ”¯æŒ

```javascript
// astro.config.mjs
starlight({
  defaultLocale: 'zh-cn',
  locales: {
    'zh-cn': {
      label: 'ç®€ä½“ä¸­æ–‡',
      lang: 'zh-CN',
    },
    'en': {
      label: 'English',
      lang: 'en',
    },
  },
});
```

### 2. æ’ä»¶é›†æˆ

#### é›†æˆè¯„è®ºç³»ç»Ÿ

```javascript
// src/components/Comments.astro
import Giscus from '@giscus/react';

<Giscus
  repo="username/repo"
  repoId="R_xxx"
  category="Announcements"
  categoryId="xxx"
  mapping="pathname"
  reactionsEnabled="1"
  emitMetadata="0"
  theme="light"
/>
```

#### æ·»åŠ æœç´¢å¢å¼º

```javascript
// astro.config.mjs
starlight({
  search: {
    provider: 'algolia',
    config: {
      appId: 'YOUR_APP_ID',
      apiKey: 'YOUR_SEARCH_API_KEY',
      indexName: 'YOUR_INDEX_NAME',
    },
  },
});
```

## æœ€ä½³å®è·µ

1. **ä¸»é¢˜å®šåˆ¶**
   - ä¿æŒå“ç‰Œä¸€è‡´æ€§
   - ç¡®ä¿è‰¯å¥½çš„æš—è‰²æ¨¡å¼æ”¯æŒ
   - ä¼˜åŒ–ç§»åŠ¨ç«¯æ˜¾ç¤º

2. **å†…å®¹ç»„ç»‡**
   - ä½¿ç”¨æ¸…æ™°çš„æ–‡ä»¶å‘½åè§„èŒƒ
   - ä¿æŒåˆç†çš„ç›®å½•æ·±åº¦
   - å®šæœŸæ›´æ–°æ–‡æ¡£å†…å®¹

3. **ç»„ä»¶å¼€å‘**
   - ç»„ä»¶èŒè´£å•ä¸€
   - ä¿æŒå¯å¤ç”¨æ€§
   - æä¾›å®Œæ•´çš„ç±»å‹å®šä¹‰

## ä¸‹ä¸€æ­¥

å®Œæˆå†…å®¹ç®¡ç†å’Œä¸»é¢˜å®šåˆ¶åï¼Œä½ å¯ä»¥ï¼š

1. ä¼˜åŒ–æ„å»ºæµç¨‹
2. é…ç½®è‡ªåŠ¨éƒ¨ç½²
3. è®¾ç½®æ€§èƒ½ç›‘æ§
4. æ·»åŠ ç”¨æˆ·åˆ†æ

åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†è¯¦ç»†ä»‹ç»å¦‚ä½•éƒ¨ç½²å’Œä¼˜åŒ–ä½ çš„æ–‡æ¡£ç½‘ç«™ã€‚